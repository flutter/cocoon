<!DOCTYPE html>

<!--
  Copyright (c) 2016 The Chromium Authors. All rights reserved.
  Use of this source code is governed by a BSD-style license that can be
  found in the LICENSE file.
-->

<html style="width: 100%; height: 100%">
<head>
  <meta http-equiv="refresh" content="1200">
  <meta name="google-signin-scope" content="profile email">
  <meta name="google-signin-client_id" content="308150028417-vlj9mqlm3gk1d03fb0efif1fu5nagdtt.apps.googleusercontent.com">
  <script src="https://apis.google.com/js/platform.js" async defer></script>

  <title>Flutter Dashboard</title>

  <style>
    @import url(https://fonts.googleapis.com/css?family=Roboto:300);

    body {
      background: #eee;
      font: 16px Roboto, sans-serif;
      font-weight: 300;
      color: #333;
      padding: 0;
      margin: 0;
    }

    .link-container {
      display: flex;
      justify-content: center;
      flex-direction: row;
      height: 200px;
    }

    .page-link {
      position: relative;
      width: 30%;
      min-width: 200px;
      margin: 10px;
    }

    .page-link > a {
      position: absolute;
      top: 0; right: 0; bottom: 0; left: 0;
      background-color: #5E97F6;
      border-radius: 4px;
      box-shadow: 0 1px 3px rgba(0,0,0,0.12), 0 1px 2px rgba(0,0,0,0.24);
      text-decoration: none;

      display: flex;
      justify-content: center;
      align-items: center;
      color: black;
      font-size: 24px;
    }

    .page-footer {
      display: flex;
      justify-content: center;
      flex-direction: row;
    }

    .page-link > a:hover {
      background-color: #71A3F7;
    }

    .login-button {
      display: none;
    }

    #logout-button {
      display: none;
    }

    #sign-in-required-banner {
      display: none;
    }

    #sign-in-required-banner {
      padding: 30px;
      text-align: center;
      background-color: #ffc4c4;
    }
  </style>
  <script>
    function onSignIn(googleUser) {
        var idToken = googleUser.getAuthResponse().id_token;
        var expires = new Date();
        expires.setDate(expires.getDate() + 30);
        document.cookie = "X-Flutter-IdToken=" + idToken +
            "; expires=" + expires.toUTCString() +
	    "; path=/";
    }

    function onSignInFailure(error) {
        console.log(error);
	document.cookie = "X-Flutter-IdToken=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/;";
    }
  </script>
</head>
<body style="padding: 0; margin: 0; width: 100%; height: 100%; position: relative">
  <div id="sign-in-required-banner">
    <span>The page you tried to access requires signed in access</span>
    <button class="login-button">Sign in with Google</button>
  </div>

  <h1 style="text-align: center">
    <img src="assets/logo.svg" width="30px">
    Flutter Dashboard
  </h1>

  <div class="link-container">
    <div class="page-link">
      <a href="build.html">Build</a>
    </div>

    <div id="benchmarks-link" class="page-link">
      <a href="benchmarks.html">Benchmarks</a>
    </div>

    <div id="repository-link" class="page-link">
      <a href="repository.html">Repository</a>
    </div>
  </div>

  <footer id="page-footer">
    <div class="g-signin2" data-onsuccess="onSignIn" data-onfailure="onSignInFailure" data-theme="dark"></div>
    <button class="login-button">Sign in with Google</button>
    <button id="logout-button">Sign out of Google</button>
  </footer>

  <script defer src="index.dart.js"></script>
</body>
</html>
